/* eslint-disable */
export let dataFilms = [{id: `0`, film_info: {title: `A Shark Who Bought The Carpet`, alternative_title: `A Lion Who Sold The Void`, total_rating: 5.4, poster: `images/posters/made-for-each-other.png`, age_rating: 6, director: `Quentin Tarantino`, writers: [], actors: [`Robert De Niro`, `Matt Damon`, `Tom Hanks`, `Takeshi Kitano`, `Christian Bale`, `Gary Oldman`, `Harrison Ford`, `Ralph Fiennes`], release: {date: `2014-03-11T10:55:50.535Z`, release_country: `Italy`}, runtime: 186, genre: [`Action`, `Sci-Fi`], description: `Oscar-winning film, from the creators of timeless classic  Nu, Pogodi!  and  Alice in Wonderland , with the best fight scenes since Bruce Lee.`}, user_details: {personal_rating: 5, watchlist: false, already_watched: true, watching_date: `2020-04-08T08:28:00.929Z`, favorite: false}, comments: [
  {author: "Fedor James",
  comment: "   84   love all Leo Di Caprio performances. He's not in the movie tho. Just telling what kinds of movies I like, I think everyone should know, I know what film is gonna win Oscar this year.",
  date: "2020-04-14T22:04:23.111Z",
  emotion: "puke",
  id: "84",},
  {author: "Fedor James",
  comment: "93    love all Leo Di Caprio performances. He's not in the movie tho. Just telling what kinds of movies I like, I think everyone should know, I know what film is gonna win Oscar this year.",
  date: "2020-04-14T22:04:23.111Z",
  emotion: "puke",
  id: "83",},
  {author: "Fedor James",
  comment: "82   love all Leo Di Caprio performances. He's not in the movie tho. Just telling what kinds of movies I like, I think everyone should know, I know what film is gonna win Oscar this year.",
  date: "2020-04-14T22:04:23.111Z",
  emotion: "puke",
  id: "82",},
]}, {id: `1`, film_info: {title: `Happiness Of The Floor`, alternative_title: `A Lion On Us`, total_rating: 9.4, poster: `images/posters/santa-claus-conquers-the-martians.jpg`, age_rating: 21, director: `Clint Eastwood`, writers: [], actors: [`Morgan Freeman `, `Michael Caine`, `Brad Pitt`, `Robert De Niro`, `Christian Bale`], release: {date: `2017-12-05T14:44:55.559Z`, release_country: `Italy`}, runtime: 129, genre: [], description: `Oscar-winning film, true masterpiece where love and death are closer to heroes than their family.`}, user_details: {personal_rating: 4, watchlist: false, already_watched: true, watching_date: `2020-02-28T08:28:00.929Z`, favorite: false}, comments: [`5`, `6`, `7`, `8`, `9`, `10`]}, {id: `2`, film_info: {title: `A Man Who Bought The Wall`, alternative_title: `Laziness In Us`, total_rating: 8.5, poster: `images/posters/the-man-with-the-golden-arm.jpg`, age_rating: 21, director: `Quentin Tarantino`, writers: [], actors: [`Leonardo DiCaprio`, `Tom Hanks`, `Takeshi Kitano`], release: {date: `2000-07-31T06:11:52.261Z`, release_country: `USA`}, runtime: 60, genre: [`Adventure`, `Comedy`], description: `Oscar-winning film, true masterpiece where love and death are closer to heroes than their family, a film about a journey that heroes are about to make in finding themselves.`}, user_details: {personal_rating: 5, watchlist: true, already_watched: true, watching_date: `2019-12-24T08:28:00.930Z`, favorite: true}, comments: [`11`, `12`, `13`, `14`, `15`]}, {id: `3`, film_info: {title: `A Shark Of The Room`, alternative_title: `A Shark Who Sold The Floor`, total_rating: 8.7, poster: `images/posters/santa-claus-conquers-the-martians.jpg`, age_rating: 0, director: `Clint Eastwood`, writers: [`Brad Bird`], actors: [`Leonardo DiCaprio`, `Michael Caine`, `Brad Pitt`, `Takeshi Kitano`, `Edward Norton`, `Ralph Fiennes`], release: {date: `2004-06-16T23:47:02.983Z`, release_country: `France`}, runtime: 189, genre: [`Animation`, `Comedy`], description: `Oscar-winning film, a war drama about two young people, true masterpiece where love and death are closer to heroes than their family, from the creators of timeless classic  Nu, Pogodi!  and  Alice in Wonderland , with the best fight scenes since Bruce Lee.`}, user_details: {personal_rating: 6, watchlist: false, already_watched: true, watching_date: `2019-10-04T08:28:00.930Z`, favorite: false}, comments: [`16`, `17`, `18`, `19`]}, {id: `4`, film_info: {title: `Raiders Who The Storm`, alternative_title: `A Man In The Floor`, total_rating: 8.6, poster: `images/posters/santa-claus-conquers-the-martians.jpg`, age_rating: 0, director: `Tom Ford`, writers: [], actors: [`Matt Damon`, `Al Pacino`, `Harrison Ford`, `Cillian Murphy`], release: {date: `1993-06-13T05:36:11.243Z`, release_country: `France`}, runtime: 169, genre: [`Comedy`, `Thriller`], description: `a war drama about two young people, a film about a journey that heroes are about to make in finding themselves.`}, user_details: {personal_rating: 6, watchlist: false, already_watched: false, watching_date: null, favorite: false}, comments: [`20`, `21`, `22`, `23`, `24`]}, {id: `5`, film_info: {title: `A Lion Of The Darkness`, alternative_title: `A Tale Of A Little Bird In Himself`, total_rating: 5.9, poster: `images/posters/made-for-each-other.png`, age_rating: 18, director: `Brad Bird`, writers: [`Robert Rodrigues`, `Takeshi Kitano`, `Hayao Miazaki`], actors: [`Leonardo DiCaprio`, `Michael Caine`], release: {date: `2001-08-19T23:47:52.810Z`, release_country: `Spain`}, runtime: 79, genre: [`Horror`, `Thriller`], description: `a war drama about two young people, true masterpiece where love and death are closer to heroes than their family, from the creators of timeless classic  Nu, Pogodi!  and  Alice in Wonderland , with the best fight scenes since Bruce Lee.`}, user_details: {personal_rating: 8, watchlist: false, already_watched: true, watching_date: `2019-11-19T08:28:00.930Z`, favorite: false}, comments: [`25`, `26`, `27`, `28`, `29`]}, {id: `6`, film_info: {title: `A Little Pony Within The Wall`, alternative_title: `A Man Who Bought Himself`, total_rating: 9.3, poster: `images/posters/popeye-meets-sinbad.png`, age_rating: 6, director: `Chrostopher Nolan`, writers: [`Robert Zemeckis`, `Martin Scorsese`], actors: [`Tom Hanks`, `Christian Bale`, `Harrison Ford`, `Ralph Fiennes`], release: {date: `2013-06-05T17:14:49.575Z`, release_country: `France`}, runtime: 200, genre: [`Action`, `Horror`], description: `a war drama about two young people, from the creators of timeless classic  Nu, Pogodi!  and  Alice in Wonderland .`}, user_details: {personal_rating: 6, watchlist: true, already_watched: false, watching_date: null, favorite: false}, comments: [`30`, `31`, `32`, `33`, `34`]}, {id: `7`, film_info: {title: `Family Who Sold The Wall`, alternative_title: `Raiders Without The Room`, total_rating: 6.4, poster: `images/posters/popeye-meets-sinbad.png`, age_rating: 21, director: `Alejandro Gonsales Inarritu`, writers: [`Quentin Tarantino`, `Stephen King`, `Martin Scorsese`], actors: [`Edward Norton`, `Ralph Fiennes`], release: {date: `2003-11-19T02:09:13.015Z`, release_country: `China`}, runtime: 170, genre: [`Action`, `Adventure`, `Horror`, `Sci-Fi`], description: `Oscar-winning film, from the creators of timeless classic  Nu, Pogodi!  and  Alice in Wonderland , a film about a journey that heroes are about to make in finding themselves.`}, user_details: {personal_rating: 5, watchlist: false, already_watched: true, watching_date: `2019-07-09T08:28:00.930Z`, favorite: false}, comments: [`35`, `36`, `37`]}, {id: `8`, film_info: {title: `Pioneers Who Saw The Carpet`, alternative_title: `Raiders Who The Darkness`, total_rating: 8.1, poster: `images/posters/the-man-with-the-golden-arm.jpg`, age_rating: 6, director: `Tom Ford`, writers: [], actors: [`Leonardo DiCaprio`, `Michael Caine`, `Robert De Niro`, `Takeshi Kitano`, `Christian Bale`, `Al Pacino`, `Harrison Ford`], release: {date: `1993-05-19T06:21:10.481Z`, release_country: `Finland`}, runtime: 94, genre: [`Animation`, `Drama`], description: `a war drama about two young people, true masterpiece where love and death are closer to heroes than their family, from the creators of timeless classic  Nu, Pogodi!  and  Alice in Wonderland , a film about a journey that heroes are about to make in finding themselves, with the best fight scenes since Bruce Lee.`}, user_details: {personal_rating: 9, watchlist: false, already_watched: true, watching_date: `2019-11-18T08:28:00.930Z`, favorite: false}, comments: [`38`, `39`, `40`, `41`, `42`, `43`]}, {id: `9`, film_info: {title: `Raiders In The Void`, alternative_title: `Happiness Of The Floor`, total_rating: 5.2, poster: `images/posters/santa-claus-conquers-the-martians.jpg`, age_rating: 0, director: `Brad Bird`, writers: [`Brad Bird`, `Robert Rodrigues`, `Takeshi Kitano`], actors: [`Morgan Freeman `, `Leonardo DiCaprio`, `Michael Caine`, `Robert De Niro`, `Takeshi Kitano`, `Gary Oldman`, `Al Pacino`, `Harrison Ford`, `Cillian Murphy`], release: {date: `2010-12-22T03:28:47.818Z`, release_country: `Russia`}, runtime: 120, genre: [`Action`], description: `Oscar-winning film, from the creators of timeless classic  Nu, Pogodi!  and  Alice in Wonderland , a film about a journey that heroes are about to make in finding themselves, with the best fight scenes since Bruce Lee.`}, user_details: {personal_rating: 8, watchlist: false, already_watched: false, watching_date: null, favorite: false}, comments: [`44`, `45`, `46`, `47`]}, {id: `10`, film_info: {title: `A Shark In Him`, alternative_title: `A Shark Of Himself`, total_rating: 4.5, poster: `images/posters/the-dance-of-life.jpg`, age_rating: 6, director: `Clint Eastwood`, writers: [], actors: [`Robert De Niro`, `Al Pacino`, `Edward Norton`, `Harrison Ford`], release: {date: `2007-01-13T06:17:18.044Z`, release_country: `Germany`}, runtime: 99, genre: [`Action`], description: `true masterpiece where love and death are closer to heroes than their family.`}, user_details: {personal_rating: 8, watchlist: false, already_watched: true, watching_date: `2020-03-14T08:28:00.930Z`, favorite: false}, comments: [`48`, `49`, `50`, `51`, `52`, `53`]}, {id: `11`, film_info: {title: `Friends Of Him`, alternative_title: `A Tale Of A Little Bird With The Wall`, total_rating: 8.5, poster: `images/posters/the-man-with-the-golden-arm.jpg`, age_rating: 0, director: `Brad Bird`, writers: [`Stephen King`], actors: [`Morgan Freeman `, `Tom Hanks`, `Gary Oldman`, `Harrison Ford`, `Ralph Fiennes`], release: {date: `2005-08-27T01:15:36.627Z`, release_country: `Russia`}, runtime: 75, genre: [], description: `true masterpiece where love and death are closer to heroes than their family.`}, user_details: {personal_rating: 8, watchlist: true, already_watched: true, watching_date: `2020-04-08T08:28:00.930Z`, favorite: false}, comments: [`54`, `55`, `56`, `57`, `58`, `59`]}, {id: `12`, film_info: {title: `A Little Pony With The Floor`, alternative_title: `Country On Himself`, total_rating: 8.2, poster: `images/posters/popeye-meets-sinbad.png`, age_rating: 0, director: `Tom Ford`, writers: [`Stephen King`], actors: [`Morgan Freeman `, `Michael Caine`, `Brad Pitt`, `Takeshi Kitano`], release: {date: `2016-08-22T09:10:29.035Z`, release_country: `France`}, runtime: 138, genre: [`Action`, `Drama`, `Thriller`], description: `Oscar-winning film, true masterpiece where love and death are closer to heroes than their family, with the best fight scenes since Bruce Lee.`}, user_details: {personal_rating: 9, watchlist: false, already_watched: true, watching_date: `2019-11-13T08:28:00.930Z`, favorite: false}, comments: [`60`, `61`, `62`, `63`]}, {id: `13`, film_info: {title: `A Tale Of A Little Bird Of Him`, alternative_title: `Country On The Storm`, total_rating: 9.5, poster: `images/posters/sagebrush-trail.jpg`, age_rating: 0, director: `Alejandro Gonsales Inarritu`, writers: [`Takeshi Kitano`, `Hayao Miazaki`], actors: [`Leonardo DiCaprio`, `Michael Caine`, `Robert De Niro`, `Gary Oldman`, `Harrison Ford`], release: {date: `2016-06-26T04:54:42.228Z`, release_country: `China`}, runtime: 172, genre: [`Adventure`, `Comedy`, `Horror`, `Sci-Fi`], description: `a war drama about two young people, a film about a journey that heroes are about to make in finding themselves, with the best fight scenes since Bruce Lee.`}, user_details: {personal_rating: 8, watchlist: false, already_watched: false, watching_date: null, favorite: false}, comments: [`64`, `65`, `66`, `67`]}, {id: `14`, film_info: {title: `Country Who Saw The Room`, alternative_title: `Family Who Bought Us`, total_rating: 5.9, poster: `images/posters/the-great-flamarion.jpg`, age_rating: 6, director: `Clint Eastwood`, writers: [], actors: [`Brad Pitt`, `Matt Damon`, `Takeshi Kitano`, `Gary Oldman`, `Cillian Murphy`], release: {date: `2007-07-08T12:19:17.739Z`, release_country: `USA`}, runtime: 61, genre: [`Adventure`, `Family`], description: `Oscar-winning film, a war drama about two young people, true masterpiece where love and death are closer to heroes than their family, from the creators of timeless classic  Nu, Pogodi!  and  Alice in Wonderland , with the best fight scenes since Bruce Lee.`}, user_details: {personal_rating: 4, watchlist: true, already_watched: true, watching_date: `2019-06-22T08:28:00.930Z`, favorite: false}, comments: [`68`, `69`, `70`]}, {id: `15`, film_info: {title: `Family In The Wall`, alternative_title: `Country In The Darkness`, total_rating: 7.2, poster: `images/posters/santa-claus-conquers-the-martians.jpg`, age_rating: 6, director: `Alejandro Gonsales Inarritu`, writers: [`Robert Rodrigues`, `Stephen King`], actors: [`Leonardo DiCaprio`, `Matt Damon`, `Takeshi Kitano`, `Gary Oldman`, `Edward Norton`, `Cillian Murphy`], release: {date: `2009-06-01T11:25:06.534Z`, release_country: `China`}, runtime: 138, genre: [`Animation`, `Horror`], description: `a war drama about two young people, true masterpiece where love and death are closer to heroes than their family, from the creators of timeless classic  Nu, Pogodi!  and  Alice in Wonderland , with the best fight scenes since Bruce Lee.`}, user_details: {personal_rating: 9, watchlist: false, already_watched: true, watching_date: `2019-10-10T08:28:00.930Z`, favorite: false}, comments: [`71`, `72`, `73`, `74`, `75`]}, {id: `16`, film_info: {title: `Guest Who Us`, alternative_title: `Happiness Who Sold Themselves`, total_rating: 6.8, poster: `images/posters/sagebrush-trail.jpg`, age_rating: 0, director: `Akira Kurosawa`, writers: [], actors: [`Morgan Freeman `, `Robert De Niro`, `Tom Hanks`, `Takeshi Kitano`, `Cillian Murphy`, `Ralph Fiennes`], release: {date: `2009-03-12T02:51:38.758Z`, release_country: `Italy`}, runtime: 104, genre: [`Action`], description: `Oscar-winning film, a war drama about two young people, true masterpiece where love and death are closer to heroes than their family, a film about a journey that heroes are about to make in finding themselves, with the best fight scenes since Bruce Lee.`}, user_details: {personal_rating: 6, watchlist: false, already_watched: false, watching_date: null, favorite: false}, comments: [`76`, `77`, `78`, `79`, `80`]}, {id: `17`, film_info: {title: `Country Who Saw Him`, alternative_title: `Laziness Who Stole The Wall`, total_rating: 7.6, poster: `images/posters/the-great-flamarion.jpg`, age_rating: 0, director: `James Cameron`, writers: [`Hayao Miazaki`], actors: [`Leonardo DiCaprio`, `Matt Damon`, `Christian Bale`, `Harrison Ford`], release: {date: `2012-06-25T19:25:50.341Z`, release_country: `Japan`}, runtime: 92, genre: [`Action`, `Adventure`, `Comedy`, `Sci-Fi`], description: `true masterpiece where love and death are closer to heroes than their family, from the creators of timeless classic  Nu, Pogodi!  and  Alice in Wonderland , a film about a journey that heroes are about to make in finding themselves.`}, user_details: {personal_rating: 8, watchlist: false, already_watched: true, watching_date: `2019-06-18T08:28:00.930Z`, favorite: false}, comments: [`81`, `82`, `83`]}, {id: `18`, film_info: {title: `Country On Us`, alternative_title: `Laziness Who The Darkness`, total_rating: 4.6, poster: `images/posters/santa-claus-conquers-the-martians.jpg`, age_rating: 0, director: `Tom Ford`, writers: [`Robert Zemeckis`, `Martin Scorsese`], actors: [`Morgan Freeman `, `Leonardo DiCaprio`, `Takeshi Kitano`, `Gary Oldman`, `Al Pacino`, `Harrison Ford`], release: {date: `1994-01-03T21:16:45.603Z`, release_country: `Spain`}, runtime: 153, genre: [`Horror`], description: `a war drama about two young people, true masterpiece where love and death are closer to heroes than their family, a film about a journey that heroes are about to make in finding themselves, with the best fight scenes since Bruce Lee.`}, user_details: {personal_rating: 6, watchlist: false, already_watched: false, watching_date: null, favorite: false}, comments: [`84`, `85`, `86`, `87`]}, {id: `19`, film_info: {title: `Pioneers Of Himself`, alternative_title: `A Tale Of A Little Bird Within The Room`, total_rating: 5.9, poster: `images/posters/santa-claus-conquers-the-martians.jpg`, age_rating: 18, director: `Clint Eastwood`, writers: [`Robert Rodrigues`, `Hayao Miazaki`], actors: [`Leonardo DiCaprio`, `Michael Caine`, `Robert De Niro`, `Takeshi Kitano`, `Al Pacino`, `Ralph Fiennes`], release: {date: `2009-01-21T04:12:09.450Z`, release_country: `Russia`}, runtime: 153, genre: [`Animation`, `Action`, `Family`], description: `Oscar-winning film, true masterpiece where love and death are closer to heroes than their family, with the best fight scenes since Bruce Lee.`}, user_details: {personal_rating: 7, watchlist: false, already_watched: true, watching_date: `2020-03-07T08:28:00.930Z`, favorite: false}, comments: [`88`, `89`, `90`, `91`]}];


export let filtersData = [{
  name: `All movies`,
},
{
  name: `Watchlist`,
  get count() {
    let numb = 0;
    for (let elem of dataFilms) {
      if (elem.user_details.watchlist) {
        numb += 1;
      }
    }
    return numb;
  }
},
{
  name: `History`,
  get count() {
    let numb = 0;
    for (let elem of dataFilms) {
      if (elem.user_details.already_watched) {
        numb += 1;
      }
    }
    return numb;
  }
},
{
  name: `Favorites`,
  get count() {
    let numb = 0;
    for (let elem of dataFilms) {
      if (elem.user_details.favorite) {
        numb += 1;
      }
    }
    return numb;
  }
}];


fetch('https://htmlacademy-es-9.appspot.com/cinemaddict//comments/19',{
  method: 'GET', 
  headers: new Headers({
    'Authorization': 'Basic '+('awdawd')})  

  })
  .then((response) => {
    return response.json();
  })
  .then((data) => {
    console.log(data);
  });

  /*
render(siteHeaderElement, createSiteProfile(), `beforeend`);
render(siteMainElement, createSiteMenu(), `beforeend`);
let navigationContainer = document.querySelector(`.main-navigation__items`);

for (let filter of filtersData) {
  render(navigationContainer, getFilter(filter), `beforeend`);
}
render(siteMainElement, createSiteSort(), `beforeend`);
render(siteMainElement, getSiteFilmList(), `beforeend`);

const films = siteMainElement.querySelector(`.films`);
const filmList = siteMainElement.querySelector(`.films-list`);
const filmListContainer = siteMainElement.querySelector(`.films-list__container`);
let renderFilms = (data, container, card, position, start, end) => {

  let sliceFilms = data.slice(start, end);
  for (let film of sliceFilms) {
    render(container, card(film), position);
  }
};
let filters = navigationContainer.querySelectorAll(`.main-navigation__item`);
filters[0].classList.add(`main-navigation__item--active`);
let filteredArray = 0;
navigationContainer.addEventListener(`click`, (evt) => {
  if (evt.target.tagName !== `A`) {
    return;
  }
  let target = evt.target;


  for (const filter of filters) {
    filter.className = `main-navigation__item`;
  }
  target.classList.add(`main-navigation__item--active`);
  filmListContainer.innerHTML = ``;

  switch (evt.target.dataset.filter) {
    case `All`:
      filteredArray = dataFilms.slice();
      renderFilms(filteredArray, filmListContainer, getSiteFilmCard, `beforeend`, FILM.START, FILM.END);
      break;
    case `Watchlist`:
      filteredArray = dataFilms.slice().filter((film) => film.user_details.watchlist === true);

      renderFilms(filteredArray, filmListContainer, getSiteFilmCard, `beforeend`, FILM.START, FILM.END);
      break;
    case `History`:
      filteredArray = dataFilms.slice().filter((film) => film.user_details.already_watched === true);
      renderFilms(filteredArray, filmListContainer, getSiteFilmCard, `beforeend`, FILM.START, FILM.END);
      break;
    case `Favorites`:
      filteredArray = dataFilms.slice().filter((film) => film.user_details.favorite === true);
      renderFilms(filteredArray, filmListContainer, getSiteFilmCard, `beforeend`, FILM.START, FILM.END);
      break;

  }
});

let isFilter = filteredArray ? filteredArray : dataFilms;
let sortedArray = isFilter.slice();
let sortContainer = document.querySelector(`.sort`);
sortContainer.addEventListener(`click`, (evt) => {
  evt.preventDefault();
  isFilter = filteredArray ? filteredArray : dataFilms;
  if (evt.target.tagName !== `A`) {
    return;
  }

  let target = evt.target;
  let sorts = document.querySelectorAll(`.sort__button`);
  for (const sort of sorts) {
    sort.className = `sort__button`;
  }
  target.classList.add(`sort__button--active`);

  filmListContainer.innerHTML = ``;
  switch (evt.target.dataset.sort) {
    case `date-up`:
      sortedArray = isFilter.slice().sort((a, b) => {
        a.film_info.release.date = new Date(a.film_info.release.date).getTime();
        b.film_info.release.date = new Date(b.film_info.release.date).getTime();
        return b.film_info.release.date - a.film_info.release.date;
      });

      renderFilms(sortedArray, filmListContainer, getSiteFilmCard, `beforeend`, FILM.START, FILM.END);
      break;
    case `rating-up`:
      sortedArray = isFilter.slice().sort((a, b) => b.film_info.total_rating - a.film_info.total_rating);
      renderFilms(sortedArray, filmListContainer, getSiteFilmCard, `beforeend`, FILM.START, FILM.END);
      break;
    case `default`:
      sortedArray = isFilter.slice();
      renderFilms(sortedArray, filmListContainer, getSiteFilmCard, `beforeend`, FILM.START, FILM.END);
      break;
  }
});
renderFilms(dataFilms, filmListContainer, getSiteFilmCard, `beforeend`, FILM.START, FILM.END);


render(filmList, getLoadMoreButton(), `beforeend`);
render(films, getSiteTopRated(), `beforeend`);
render(films, getSiteTopComenter(), `beforeend`);
const ratedFilm = films.querySelector(`.films-list--rated`);
const commentFilm = films.querySelector(`.films-list--comment`);
let filmListContainerRated = ratedFilm.querySelector(`.films-list__container`);
const filmListContainerComment = commentFilm.querySelector(`.films-list__container`);

let getTopCategoryFilms = (data, Topcategory) => {
  let TopCategoryFilmsContainer = ``;
  let start = 0;
  let end = 0;
  if (Topcategory === `rating`) {
    let ratingArr = data.slice().sort((a, b) => {
      return b.film_info.total_rating - a.film_info.total_rating;
    });
    TopCategoryFilmsContainer = filmListContainerRated;
    start = RATED.START;
    end = RATED.END;
    renderFilms(ratingArr, TopCategoryFilmsContainer, getSiteFilmCard, `beforeend`, start, end);
  } else {
    let commentArr = data.slice().sort((a, b) => {
      return b.comments.length - a.comments.length;
    });
    TopCategoryFilmsContainer = filmListContainerComment;
    start = COMMENT.START;
    end = COMMENT.END;
    renderFilms(commentArr, TopCategoryFilmsContainer, getSiteFilmCard, `beforeend`, start, end);
  }


};

getTopCategoryFilms(dataFilms, `rating`);
getTopCategoryFilms(dataFilms);

const footerStatistic = document.querySelector(`.footer__statistics`);
render(footerStatistic, getSiteFooterStatistic(dataFilms), `beforeend`);
filmListContainerRated = ratedFilm.querySelector(`.films-list__container`);
let footer = document.querySelector(`.footer`);
siteMainElement.addEventListener(`click`, (evt) => {
  let target = evt.target;
  if (target.className === `film-card__poster` || target.className === `film-card__comments` || target.className === `film-card__title`) {
    let filmId = target.dataset.id;
    let data = dataFilms.find((element) => element.id === filmId);
    render(footer, getFilmDetails(data), `afterend`);

    let deatilsContainer = document.querySelector(`.film-details`);
    let buttonClose = document.querySelector(`.film-details__close-btn`);
    buttonClose.addEventListener(`click`, () => {
      removeElement(deatilsContainer);
    });
  }
});

const loadButton = document.querySelector(`.films-list__show-more`);
let filmListContainerTop = document.querySelector(`.films-list__container--top`);
const addFilms = () => {
  isFilter = filteredArray ? filteredArray : sortedArray;
  startFilmCount = startFilmCount + FILM.COUNT;
  let endFilmCount = startFilmCount + FILM.COUNT;
  let sliceFilms = isFilter.slice();
  renderFilms(sliceFilms, filmListContainer, getSiteFilmCard, `beforeend`, startFilmCount, endFilmCount);
  const filmsCards = filmListContainerTop.querySelectorAll(`.film-card__poster`);
  const filmLength = Array.from(filmsCards).length;
  if (filmLength >= sliceFilms.length - 1) {
    removeElement(loadButton);
  }
};
loadButton.addEventListener(`click`, addFilms);
 */